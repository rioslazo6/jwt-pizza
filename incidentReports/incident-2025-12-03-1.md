# Incident: 2025-12-03 20-10-19

## Summary
```md
Between the times 20:10 UTC and 21:29 UTC on December 3, 2025, no users were able to order pizzas. The event was triggered by an intentional chaos test injected into the app.

Though an incident alert was set, it was not triggered; the event was detected by German Rios-Lazo by noticing multiple pizza order failures in a row in the metrics dashboard. The engineer on call reviewed the error logs and found the link to visit to stop the chaos test, which fixed the issue.

This was a high-severity incident that lasted 1 hour and 19 minutes, and 100% of the users attempting to order pizza within that timeframe were affected. There were 108 unsuccessful pizza orders due to this incident.
```

## Detection
```md
This incident was detected manually, as no alerts were triggered. The dashboard started showing multiple failures in a row with customers ordering pizzas, which German Rios-Lazo noticed over an hour after the errors started.
```

## Impact
```md
For 1 hour and 19 minutes between 20:10 UTC and 21:29 UTC on December 3, 2025, none of our users were able to order pizzas.

Within that timeframe, 100% of customers trying to order a pizza from our website would get a 500 status code, and their order could not be completed.

There were a total of 108 unsuccessful requests to the pizza factory, the first one of which occured at 20:10:19 UTC, and the last one at 21:28:56 UTC.
```

## Timeline
```md
All times in UTC:

- 20:10 - First unsuccesful pizza factory request with a message of "chaos monkey"
- 21:23 - German Rios-Lazo noticed the dashboard showing multiple pizza order failures
- 21:24 - German Rios-Lazo started investigation the logs
- 21:28 - German Rios-Lazo found the relevant pizza factory error logs
- 21:28 - Last unsuccesful pizza factory request with a message of "chaos monkey"
- 21:29 - German Rios-Lazo visited the link to end the chaos
- 21:29 - First succesful pizza factory request after the chaos
- 21:30 - Metrics dashboard started showing normal activity for pizza orders again
```

## Response
```md
German Rios-Lazo was the engineer on call, and he was expecting an alert to be triggered in the event of an incident. No alerts came, though he still checked the metrics dashboards every 1 to 2 hours. After noticing the many problems in a row with pizza orders, German reviewed the logs and followed the link that would end the chaos and restore the application to its normal working status.
```

## Root cause
```md
This incident was caused by the intentional injection of chaos into the server, which when enabled, resulted in the failure of pizza orders sent to the factory.
```

## Resolution
```md
When chaos was enabled, the pizza factory returned a "followLinkToEndChaos" property in the response body: "https://pizza-factory.cs329.click/api/support/5d0c7d8f1d3d47b9acc93932926bca0e/report/nlyh3net"; when making a GET request to that url, the response message was "Problem resolved. Pizza is back on the menu!", and the errors stopped a few seconds after receiving that response.
```

## Prevention
```md
No incidents of this type have occurred in the past. This was an intentional chaos event designed to test our ability to quickly identify and resolve incidents. Intentional chaos testing may happen again in the future, and the best way to improve the resolution time is to properly setup and test incident alerts, since an alert was set which did not trigger correctly this time.
```

## Action items
```md
1. Review the conditions in which the incident alerts are triggered. Correct them if necessary. Responsible: German Rios-Lazo. Complete by: December 10, 2025.
2. Re-test the incident alerts to ensure they work properly. Responsible: German Rios-Lazo. Complete by: December 12, 2025.
3. Discuss with the team the responsibilities of an on call engineer, and review the procedures to follow. Responsible: German Rios-Lazo. Complete by: December 31, 2025.
```
